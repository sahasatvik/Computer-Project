\input{tex/ktourData}

\chapquote{``My project is 90\% done. I hope the second half goes as well."}{Scott W. Ambler}

\problem A {\em Knight's Tour} is a sequence of moves of a knight on a chessboard such that 
the {\em knight} visits every square only once. If the knight ends on a square that is one knight's move
from the beginning square, the tour is {\em closed} forming a closed loop, otherwise it is {\em open}.

There are many ways of constructing such paths on an empty board. On an $ 8\times 8$ board, there are no less
than $26,534,728,821,064$ {\em directed\footnote{Two tours along the same path that travel in opposite directions are counted separately, as are rotations and reflections.} closed} tours. Below is one of them.
\[\chessboard[boardfontsize=25pt,
			  setpieces={Nd4},
			  showmover=false,
			  arrow=to, linewidth=0.7pt, shorten=-1pt,
			  pgfstyle=straightmove,
			  markmoves=\ktour]\]

Construct a {\em Knight's Tour} ({\em open} or {\em closed}) on an $n \times n$ board, starting from
a given square.\\

{\em (Mark each square with the move number on which the knight landed on it.
Mark the starting square $1$.)}\clearpage

\solution

A knight on a chessboard can move to a square that is two squares away horizontally and one square vertically, or two squares vertically and one square horizontally.
\vspace{-5mm}
\[\chessboard[smallboard, maxfield=e5,
			  labelleft=false, labelbottom=false,
			  setpieces={Nc3},
			  showmover=false,
			  pgfstyle=straightmove,
			  linewidth=0.7pt,
			  markmoves={c3-b1, c3-d1, c3-e2, c3-a2, c3-a4, c3-e4, c3-b5, c3-d5}]
\chessboard[smallboard, maxfield=e5,
			  labelleft=false, labelbottom=false,
			  setpieces={Na3},
			  showmover=false,
			  linewidth=0.7pt,
			  pgfstyle=straightmove,
			  markmoves={a3-b1, a3-b5, a3-c2, a3-c4}]
\chessboard[smallboard, maxfield=e5,
			  labelleft=false, labelbottom=false,
			  setpieces={Na1},
			  showmover=false,
			  linewidth=0.7pt,
			  pgfstyle=straightmove,
			  markmoves={a1-b3, a1-c2}]
\]

\sourcecode
\lstinputlisting{src/TourSolver.java}
\lstinputlisting{src/Position.java}
\lstinputlisting{src/KnightTour.java}

